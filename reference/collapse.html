<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Collapse/bind several hyperSpec objects into one object — collapse • hyperSpec</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Collapse/bind several hyperSpec objects into one object — collapse" />
<meta property="og:description" content="The spectra from all objects will be put into one object.
The resulting object has all wavelengths that occur in any of the input objects,
wl.tolerance is used to determine which difference in the wavelengths is
tolerated as equal: clusters of approximately equal wavelengths will span at most 2 * wl.tolerance.
Differences up to +/- wl.tolerance are considered equal.
The returned object has wavelengths that are the weighted average
(by number of spectra) of the wavelengths within any such cluster of approximately
equal wavelengths.
Labels will be taken from the first object where they are encountered. However,
the order of processing objects is not necessarily the same as the order of objects
in the input: collapse first processes groups of input objects that share all
wavelengths (within wl.tolerance).
Data points corresponding to wavelengths not in the original spectrum will be set to NA.
Extra data is combined in the same manner.
If the objects are named, the names will be preserved in extra data column $.name.
If the wavelengths are names, names are preserved and taken from the first object where they were encountered,
the same applies to possible column names of the spectra matrix." />

<meta name="robots" content="noindex" />


<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hyperSpec</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.100.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://cbeleites.github.io/hyperSpec/">Released</a>
    </li>
    <li>
      <a href="https://cbeleites.github.io/hyperSpec/dev/">In-development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/hyperSpec.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/fileio.html">Import and Export Files with Spectra</a>
    </li>
    <li>
      <a href="../articles/plotting.html">Plotting Functions in "hyperSpec"</a>
    </li>
    <li>
      <a href="../articles/baseline.html">Fitting Baselines to Spectra</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-hyperspec/hyperSpec/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Collapse/bind several <code>hyperSpec</code> objects into one object</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-hyperspec/hyperSpec/blob/master/R/collapse.R'><code>R/collapse.R</code></a></small>
    <div class="hidden name"><code>collapse.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The spectra from all objects will be put into one object.
The resulting object has all wavelengths that occur in any of the input objects,
<code>wl.tolerance</code> is used to determine which difference in the wavelengths is
tolerated as equal: clusters of approximately equal wavelengths will span at most <code>2 * wl.tolerance</code>.
Differences up to +/- <code>wl.tolerance</code> are considered equal.</p>
<p>The returned object has wavelengths that are the weighted average
(by number of spectra) of the wavelengths within any such cluster of approximately
equal wavelengths.</p>
<p>Labels will be taken from the first object where they are encountered. However,
the order of processing objects is not necessarily the same as the order of objects
in the input: <code>collapse</code> first processes groups of input objects that share all
wavelengths (within <code>wl.tolerance</code>).</p>
<p>Data points corresponding to wavelengths not in the original spectrum will be set to NA.
Extra data is combined in the same manner.</p>
<p>If the objects are named, the names will be preserved in extra data column <code>$.name</code>.
If the wavelengths are names, names are preserved and taken from the first object where they were encountered,
the same applies to possible column names of the spectra matrix.</p>
    </div>

    <pre class="usage"><span class='fu'>collapse</span><span class='op'>(</span>
  <span class='va'>...</span>,
  wl.tolerance <span class='op'>=</span> <span class='fu'><a href='hy.getOptions.html'>hy.getOption</a></span><span class='op'>(</span><span class='st'>"wl.tolerance"</span><span class='op'>)</span>,
  collapse.equal <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>hyperSpec objects to be collapsed into one object. Instead of giving several
arguments, a list with all objects to be collapsed may be given.</p></td>
    </tr>
    <tr>
      <th>wl.tolerance</th>
      <td><p>tolerance to decide which wavelengths are considered equal.</p></td>
    </tr>
    <tr>
      <th>collapse.equal</th>
      <td><p>logical indicating whether to try first finding groups of spectra
with (approximately) equal wavelength axes. If the data is known to contain few or no
such groups, <code>collapse()</code> will be faster with this first pass being turned off.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a hyperSpec object</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='merge,hyperSpec,hyperSpec-method.html'>merge()</a></code>,  <code><a href='https://rdrr.io/r/base/cbind.html'>rbind()</a></code>, and <code><a href='https://rdrr.io/pkg/plyr/man/rbind.fill.html'>plyr::rbind.fill()</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>C. Beleites</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>barbiturates</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
</div><div class='output co'>#&gt; [[1]]
#&gt; hyperSpec object
#&gt;    1 spectra
#&gt;    4 data columns
#&gt;    37 data points / spectrum
#&gt; 
#&gt; [[2]]
#&gt; hyperSpec object
#&gt;    1 spectra
#&gt;    4 data columns
#&gt;    34 data points / spectrum
#&gt; 
#&gt; [[3]]
#&gt; hyperSpec object
#&gt;    1 spectra
#&gt;    4 data columns
#&gt;    29 data points / spectrum
#&gt; </div><div class='input'><span class='fu'>collapse</span><span class='op'>(</span><span class='va'>barbiturates</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt; hyperSpec object
#&gt;    3 spectra
#&gt;    4 data columns
#&gt;    57 data points / spectrum</div><div class='input'>
<span class='va'>a</span> <span class='op'>&lt;-</span> <span class='va'>barbiturates</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>b</span> <span class='op'>&lt;-</span> <span class='va'>barbiturates</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>c</span> <span class='op'>&lt;-</span> <span class='va'>barbiturates</span><span class='op'>[[</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>]</span>

<span class='va'>a</span>
</div><div class='output co'>#&gt; hyperSpec object
#&gt;    1 spectra
#&gt;    4 data columns
#&gt;    37 data points / spectrum</div><div class='input'><span class='va'>b</span>
</div><div class='output co'>#&gt; hyperSpec object
#&gt;    1 spectra
#&gt;    4 data columns
#&gt;    34 data points / spectrum</div><div class='input'><span class='va'>c</span>
</div><div class='output co'>#&gt; hyperSpec object
#&gt;    1 spectra
#&gt;    4 data columns
#&gt;    29 data points / spectrum</div><div class='input'><span class='fu'>collapse</span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span>, <span class='va'>c</span><span class='op'>)</span>
</div><div class='output co'>#&gt; hyperSpec object
#&gt;    3 spectra
#&gt;    4 data columns
#&gt;    57 data points / spectrum</div><div class='input'>
<span class='fu'>collapse</span><span class='op'>(</span><span class='va'>barbiturates</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>, collapse.equal <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; hyperSpec object
#&gt;    3 spectra
#&gt;    4 data columns
#&gt;    57 data points / spectrum</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Claudia Beleites, <a href='https://orcid.org/0000-0002-9500-5167'>Vilmantas Gegzna</a>, Bryan Hanson, Roman Kiselev, Erick Oduniyi, Valter Sergo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


