<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>(DEPRECATED)
Import of ENVI data — DEPRECATED-read.ENVI • hyperSpec</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="(DEPRECATED)
Import of ENVI data — DEPRECATED-read.ENVI" />
<meta property="og:description" content="These data input functions are deprecated and they will be removed in
the next release of hyperspec package.
Now functions in package hySpc.read.ENVI
(link)
should be used as the alternatives.
Old description:
This function allows ENVI data import as hyperSpec object.
read.ENVI.Nicolet() should be a good starting point for writing custom
wrappers for read.ENVI() that take into account your manufacturer's
special entries in the header file." />

<meta name="robots" content="noindex" />


<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hyperSpec</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.100.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://cbeleites.github.io/hyperSpec/">Released</a>
    </li>
    <li>
      <a href="https://cbeleites.github.io/hyperSpec/dev/">In-development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/hyperSpec.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/fileio.html">Import and Export Files with Spectra</a>
    </li>
    <li>
      <a href="../articles/plotting.html">Plotting Functions in "hyperSpec"</a>
    </li>
    <li>
      <a href="../articles/baseline.html">Fitting Baselines to Spectra</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-hyperspec/hyperSpec/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>(DEPRECATED)
Import of ENVI data</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-hyperspec/hyperSpec/blob/master/R/DEPRECATED-read.ENVI.R'><code>R/DEPRECATED-read.ENVI.R</code></a>, <a href='https://github.com/r-hyperspec/hyperSpec/blob/master/R/DEPRECATED-read.ENVI.HySpex.R'><code>R/DEPRECATED-read.ENVI.HySpex.R</code></a>, <a href='https://github.com/r-hyperspec/hyperSpec/blob/master/R/DEPRECATED-read.ENVI.Nicolet.R'><code>R/DEPRECATED-read.ENVI.Nicolet.R</code></a></small>
    <div class="hidden name"><code>DEPRECATED-read.ENVI.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These data input functions are <strong>deprecated</strong> and they will be removed in
the next release of <span class="pkg">hyperspec</span> package.
Now functions in package <span class="pkg">hySpc.read.ENVI</span>
(<a href='https://r-hyperspec.github.io/hySpc.read.ENVI/reference/index.html'>link</a>)
should be used as the alternatives.</p>
<p><strong>Old description:</strong></p>
<p>This function allows ENVI data import as <code>hyperSpec</code> object.</p>
<p><code>read.ENVI.Nicolet()</code> should be a good starting point for writing custom
wrappers for <code>read.ENVI()</code> that take into account your manufacturer's
special entries in the header file.</p>
    </div>

    <pre class="usage"><span class='fu'>read.ENVI</span><span class='op'>(</span>
  file <span class='op'>=</span> <span class='kw'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span><span class='op'>(</span><span class='st'>"read.ENVI: file name needed"</span><span class='op'>)</span>,
  headerfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  header <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  keys.hdr2data <span class='op'>=</span> <span class='cn'>FALSE</span>,
  x <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>1</span>,
  y <span class='op'>=</span> <span class='va'>x</span>,
  wavelength <span class='op'>=</span> <span class='cn'>NULL</span>,
  label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  block.lines.skip <span class='op'>=</span> <span class='fl'>0</span>,
  block.lines.size <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>,
  pull.header.lines <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>

<span class='fu'>read.ENVI.HySpex</span><span class='op'>(</span>
  file <span class='op'>=</span> <span class='kw'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span><span class='op'>(</span><span class='st'>"read.ENVI.HySpex: file name needed"</span><span class='op'>)</span>,
  headerfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  header <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  keys.hdr2data <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>read.ENVI.Nicolet</span><span class='op'>(</span>
  file <span class='op'>=</span> <span class='kw'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span><span class='op'>(</span><span class='st'>"read.ENVI: file name needed"</span><span class='op'>)</span>,
  headerfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  header <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>...</span>,
  x <span class='op'>=</span> <span class='cn'>NA</span>,
  y <span class='op'>=</span> <span class='cn'>NA</span>,
  nicolet.correction <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>complete name of the binary file</p></td>
    </tr>
    <tr>
      <th>headerfile</th>
      <td><p>name of the ASCII header file. If <code>NULL</code>, the name
of the header file is guessed by looking for a second file with the same
basename as <code>file</code> but <code>hdr</code> or <code>HDR</code> suffix.</p></td>
    </tr>
    <tr>
      <th>header</th>
      <td><p>list with header information, see details. Overwrites information extracted from the header file.</p></td>
    </tr>
    <tr>
      <th>keys.hdr2data</th>
      <td><p>determines which fields of the header file should be
put into the extra data. Defaults to none.</p>
<p>To specify certain entries, give character vectors containing the lowercase
names of the header file entries.</p></td>
    </tr>
    <tr>
      <th>x, y</th>
      <td><p>vectors of form c(offset, step size) for the position vectors,
see details.</p></td>
    </tr>
    <tr>
      <th>wavelength, label</th>
      <td><p>lists that overwrite the respective information
from the ENVI header file. These data is then handed to
<code><a href='initialize.html'>initialize()</a></code></p></td>
    </tr>
    <tr>
      <th>block.lines.skip, block.lines.size</th>
      <td><p>BIL and BIP ENVI files may be read in blocks of lines:
skip the first <code>block.lines.skip</code> lines, then read a block of <code>block.lines.size</code>
lines. If <code>block.lines.NULL</code>, the whole file is read.
Blocks are silently truncated at the end of the file (more precisely: to <code>header$lines</code>).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>currently unused by <code>read.ENVI</code>,
<code>read.ENVI.Nicolet</code> hands those arguements over to <code>read.ENVI</code></p></td>
    </tr>
    <tr>
      <th>pull.header.lines</th>
      <td><p>(internal) flag whether multi-line header entries grouped by curly
braces should be pulled into one line each.</p></td>
    </tr>
    <tr>
      <th>nicolet.correction</th>
      <td><p>see details</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>hyperSpec</code> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>ENVI data usually consists of two files, an ASCII header and a binary data
file. The header contains all information necessary for correctly reading
the binary file.</p>
<p>I experienced missing header files (or rather: header files without any
contents) produced by Bruker Opus' ENVI export.</p>
<p>In this case the necessary information can be given as a list in parameter
<code>header</code> instead:</p>
<table class='table'>
<tr><td><code>header$</code></td><td>values</td><td>meaning</td></tr>
<tr><td><code>samples</code></td><td>integer</td><td>no of columns / spectra in x direction</td></tr>
<tr><td><code>lines</code></td><td>integer</td><td>no of lines / spectra in y direction</td></tr>
<tr><td><code>bands</code></td><td>integer</td><td>no of wavelengths / data points per spectrum</td></tr>
<tr><td><code>data type</code></td><td></td><td>format of the binary file</td></tr>
<tr><td></td><td>1</td><td>1 byte unsigned integer</td></tr>
<tr><td></td><td>2</td><td>2 byte signed integer</td></tr>
<tr><td></td><td>3</td><td>4 byte signed integer</td></tr>
<tr><td></td><td>4</td><td>4 byte float</td></tr>
<tr><td></td><td>5</td><td>8 byte double</td></tr>
<tr><td></td><td>9</td><td>16 (2 x 8) byte complex double</td></tr>
<tr><td></td><td>12</td><td>2 byte unsigned integer</td></tr>
<tr><td><code>header offset</code></td><td>integer</td><td>number of bytes to skip before binary data starts</td></tr>
<tr><td><code>interleave</code></td><td></td><td>directions of the data cube</td></tr>
<tr><td></td><td>"BSQ"</td><td>band sequential (indexing: [sample, line, band])</td></tr>
<tr><td></td><td>"BIL"</td><td>band interleave by line (indexing: [sample, line, band])</td></tr>
<tr><td></td><td>"BIP"</td><td>band interleave by pixel (indexing: [band, line, sample])</td></tr>
<tr><td><code>byte order</code></td><td>0 or "little"</td><td>little endian</td></tr>
<tr><td></td><td>1 or "big"</td><td>big endian</td></tr>
<tr><td></td><td>"swap"</td><td>swap byte order</td></tr>
</table>


<p>Some more information that is not provided by the ENVI files may be given:</p>
<p>Wavelength axis and axis labels in the respective parameters. For more
information, see <code><a href='initialize.html'>initialize()</a></code>.</p>
<p>The spatial information is by default a sequence from 0 to
<code>header$samples - 1</code> and <code>header$lines - 1</code>, respectively.
<code>x</code> and <code>y</code> give offset of the first spectrum and step size.</p>
<p>Thus, the object's <code>$x</code> colum is: <code>(0 : header$samples - 1) * x [2] + x [1]</code>.  The <code>$y</code> colum is calculated analogously.</p>
<p>Nicolet uses some more keywords in their header file.
They are interpreted as follows:</p><table class='table'>
<tr><td>description</td><td>giving the position of the first spectrum</td></tr>
<tr><td>z plot titles</td><td>wavelength and intensity axis units, comma separated</td></tr>
<tr><td>pixel size</td><td>interpreted as x and y step size
(specify <code>x = NA</code> and <code>y = NA</code>)</td></tr>
</table>
<p>These parameters can be overwritten by giving a list with the respective
elements in parameter <code>header</code>.</p>
<p>The values in header line description seem to be microns while the pixel
size seems to be in microns. If <code>nicolet.correction</code> is true, the
pixel size values (i.e. the step sizes) are multiplied by 1000.</p>
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    
<ul>
<li><p><code>read.ENVI.HySpex</code>:</p></li>
<li><p><code>read.ENVI.Nicolet</code>:</p></li>
</ul>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>This function was adapted from
<code><a href='https://rdrr.io/pkg/caTools/man/ENVI.html'>caTools::read.ENVI()</a></code>:</p>
<p>Jarek Tuszynski (2008). caTools: Tools: moving window statistics, GIF,
Base64, ROC AUC, etc.. R package version 1.9.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/caTools/man/ENVI.html'>caTools::read.ENVI()</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>C. Beleites, testing for the Nicolet files C. Dicko</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Claudia Beleites, <a href='https://orcid.org/0000-0002-9500-5167'>Vilmantas Gegzna</a>, Bryan Hanson, Roman Kiselev, Erick Oduniyi, Valter Sergo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


